<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roman Numerals</title>
  <link rel="stylesheet" href="styleforromannums.css">
  <link rel="stylesheet" href="myStyles.css">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
    }

    .content {
      flex: 1;
    }

    footer {
      text-align: center;
      padding: 10px 0;
      width: 100%;
      position: absolute;
      bottom: 0;
    }
  </style>
</head>
<body style="background: linear-gradient(180deg, #2c6d66 0%, #4796e1 100%);">
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Конвертер римских цифр в арабские</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Dropdown
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <h4 style="margin-left: 45px; margin-top: 50px; color: antiquewhite;">Ввод значения</h4>
    <div class="row col-6 m-4">     
      <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Введите значение" aria-label="Recipient's username" id="inputValue">
        <button class="btn btn-outline-secondary" onclick="calculateValue()" type="button" id="button-addon2" style="color: antiquewhite;">Конвертировать</button>
      </div>
    </div>
    <h4 style="margin-left: 45px;  color: antiquewhite;">Вывод результата</h4>
    <div class="row col-6 m-4">
      <div class="form-floating">
        <textarea class="form-control" readonly id="outputResult"></textarea>
      </div>
    </div>

</body>

<footer style="background: linear-gradient(180deg, #424c4b 0%, #808589 100%);" class="bg-light text-center text-lg-start">
  <div class="text-center p-3 text-white">
    © 2024 Azif Suliev.
  </div>
</footer>
<script>
  function RomanToInt(s) {
const romanToIntegers = {
  "I": 1,
  "V": 5,
  "X": 10,
  "L": 50,
  "C": 100,
  "D": 500,
  "M": 1000,
  "IV": 4,
  "IX": 9,
  "XL": 40,
  "XC": 90,
  "CD": 400,
  "CM": 900
};

let checkedStr = "";
let result = 0;

try {
  for (let c of s.toUpperCase()) {
      switch (c.toString()) {
          case "I":
          case "V":
          case "X":
          case "L":
          case "C":
          case "D":
          case "M":
              checkedStr += c;
              break;
          default:
              throw new Error("Wrong value");
      }
  }
} catch (e) {
  console.error(e.message);
}

try {
  if (s.length >= 1 && s.length <= 15) {
      const keysToArray = Object.keys(romanToIntegers);

      for (let i = 7; i < keysToArray.length; i++) {
          if (checkedStr.includes(keysToArray[i])) {
              result += romanToIntegers[keysToArray[i]];
              checkedStr = checkedStr.replace(keysToArray[i], "");
          }
      }

      for (let i = 0; i < checkedStr.length; i++) {
          result += romanToIntegers[checkedStr[i]];
      }
  } else {
      throw new Error("Length of string out of range");
  }
} catch (e) {
  console.error(e.message);
}

return result;
}
  function calculateValue() {
  const inputValue = document.getElementById('inputValue').value; // Получаем значение из поля ввода
  let result = RomanToInt(inputValue);
  document.getElementById('outputResult').value = result; // Устанавливаем значение в textarea
  }
</script>
</html>

<script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

